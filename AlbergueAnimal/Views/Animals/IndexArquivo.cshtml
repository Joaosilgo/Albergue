@model IEnumerable<AlbergueAnimal.Models.Animal>

@{
    ViewData["Title"] = "Animais Arquivados";
}
<br />

<p>
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a asp-area="" asp-controller="Home" asp-action="Index">Home</a></li>
        <li class="breadcrumb-item"><a asp-area="" asp-controller="Animals" asp-action="Index">Lista Animais</a></li>

        <li class="breadcrumb-item active">@ViewData["Title"]</li>
    </ol>
</p>
<h2>@ViewData["Title"]</h2>
<br />

<div>
    <table class="table">
        <thead>
            <tr>
                <th>
                    Fotografia
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Nome)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Genero)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Cor)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DataNascimento)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DataEntrada)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DataVacina)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Raca)
                </th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @{
                            if (item.imageContent != null && item.imageMimeType.Contains("image"))
                            {
                                string imageBase64 = Convert.ToBase64String(item.imageContent);
                                string imageSrc = string.Format("data:" + item.imageMimeType + ";base64,{0}", imageBase64);
                                <img src="@imageSrc" alt="Profile picture of @item.Nome" style=" width: 50px;height: 50px; border-radius: 50%; padding: 0;width: 50px;height: 50px; line-height: 50px;" class="img-responsive img-rounded" />
                            }
                        }
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Nome)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Genero)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Cor)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DataNascimento)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DataEntrada)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DataVacina)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Raca.Designacao)
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<div>
    <a asp-action="Index">Voltar à Lista</a>
</div>